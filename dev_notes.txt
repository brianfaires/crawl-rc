### TODO
recent:

Turncount features:
- only alerted "slowest weap" when swapping orb->shield. Carrying broad axe, and it alerted for a floor broad axe.
- highlight or announce glowing items (iff they might be picked up?)
- OTA for spells
- POG macro / ignore monsteres for POG or shift-dir
- tele into see trident; prompted for read ?id
- don't upgrade old, basic weaps that i just dont wanna drop
- disable 'highest dmg' alert?
- prevent accidental long-dist travel (ie shopping list)

announce-items:
- don't announce wands upon id (ie when standing on, or right after "You see here a wand of x"?")


hotkey:
  - move to only if on same floor
  - [bug?] swallowing keypress again? when walking and comes into view
  - "move to +0 ring mail"; but a +4 ring mail was alerted after (diff items);
  - read id hotkey shows up a turn after the "scroll of id" message that triggered it
  - triggering on "you see: scroll of id"
  - walking, found temple (swallowed); stepped to entrance, OTA buckler; weird map screen after entering temple. Esc -> showed altar search
  
quiver-alerts:
  - disable when wielded weapon is quivered

inscribe-stats:
  - option to skip DPS (for turncount runs)
  - use diff inscription rules for staves (to show dmg)

Misc:
  - Add more comments to feature files, especially for the config options.
  - reading scroll off ground, not auto-assigning copy in inventory to its slot
  - prevent drinking potion of lignification over deep water (just wastes the turn)
  - disable fm for arte armour

Realtime features:
  - Print realtime on milestones (enter lair, get rune, ...)
  - Conditions for Stop on stairs:
    - up vs down, hatches
    - level, xl, etc
  - Heal before Cntl-D / Cntl-E
  - Artefact weapon alerts: 'min_skill' for alerts; sans "+Blink"
  - pickup_shields config
    - Train Shields on shield pickup/equip

### Can't reproduce locally:
- no announcement for steam dragon scales (same turn as lvl up and gained 1 spell lvl)
- in pan: redrawing screen on every turn of travel (fixed?)


### crawl PRs / issues affecting BRC
https://github.com/crawl/crawl/issues/4789 ->
  - drop_disables_autopickup blocks exclude-dropped.lua from working
  - crawl option cannot be toggled off
https://github.com/crawl/crawl/pull/4814 -> artificial cap on length blocks color-inscribe.lua
https://github.com/crawl/crawl/pull/4892 -> required for bread-swinger.lua
  - Afterward, prioritize walking into water.
Shift-D drops both an item picked up with item:pickup(), and also the last picked up item.
Num turns to multiturn equip/unequip == time + 1; intended?
  - Actually is +2 for: Equip 2h weap -> unwield shield = 8 turns (unwield + equip = 7 turns)
items.pickup() does nothing?
stacks are only checked for autopickup when visited

### TODO - require crawl PR?
1. fully-recover:
  - Wait for allies to fully heal
  - Wait for ancestor respawn
  - Make use of explore_auto_rest_status to replace fully-recover.lua.
    (Issue: Trouble calling ready() after heal, before explore. Multiple annoyances when it's skipped.)
    (Maybe could fix with >1 ready() / turn... Try macro'ing: { WAIT, READY, EXPLORE }?)
1. remove stat inscriptions and "~~DROP_ME" when dropping item (needs to inscribe items on floor)
1. colorize 'inscriptions' of artefacts (and 0.34's inscriptions of all items like scarf of resistance)
1. Disable mouse click travel (on MacOS?) - ideally just prevent accidental movement from trackpad
1. announce shop names/types as they come into view

### Backlog
1. Rest starts w/1 turn of autopickup (if inv not full)
1. Speed improvements:
  - int instead of floats
  - extra level of 'items_alerted' table: item_db_name -> ego -> plus
  - bring back BRC.CACHE - ie load all values that are used >1x per ready().
    (Removed previous cache due to minimal impact, vs code clarity + robustness)
1. BRC core/util:
  - BRC.mprf.color(msg, ...) and textf.color(msg, ...) that use string.format()
1. alert-monsters:
  - level-specific fm ignores (eg vault warden on v:5)
  - torment helper; unique color / display count or list of tormentors in LOS
1. pickup-alert:
  - disable basic jewellery pickup after configurable xl
  - on pickup artefact jewellery with no downsides, disable autopickup of basic jewellery
